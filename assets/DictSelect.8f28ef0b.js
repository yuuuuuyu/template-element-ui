import{V as e}from"./ui.1d6f8af4.js";import{g as t}from"./util.65335530.js";import{n as l}from"./index.c811c3b7.js";const r=l({model:{prop:"value",event:"change"},props:{value:{type:[String,Number],required:!1},valueKey:{type:String,required:!1,default:()=>t("valueKey","value")},labelKey:{type:String,required:!1,default:()=>t("labelKey","label")},nullAble:{type:Boolean,required:!1,default:()=>t("nullAble",!0)},request:{type:Function,required:!1},param:{type:String,required:!1,default:()=>t("param",void 0)},responseTransfer:{type:Function,required:!1,default:t=>e.$DictControl&&"function"==typeof e.$DictControl.responseTransfer?e.$DictControl.responseTransfer(t):t}},data:()=>({bindValue:null,list:[]}),watch:{value:{handler(){this.value&&(this.bindValue=this.value)},immediate:!0}},methods:{fetchData:async function(){if(!e.$DictControl&&!e.$DictControl.request&&!this.request)return console.warn("DictControl: The required configuration [request] is missing!");const t=this.request||e.$DictControl.request;if("function"!=typeof t)return console.warn("DictControl: [request] must be a Function!");this.list=this.responseTransfer(await t(this.param))}},created(){this.fetchData()}},(function(){var e=this,t=e._self._c;return t("el-select",e._b({on:{change:function(t){return e.$emit("change",t)}},model:{value:e.bindValue,callback:function(t){e.bindValue=t},expression:"bindValue"}},"el-select",e.$attrs,!1),[e.nullAble?t("el-option",{attrs:{label:e.$attrs.placeholder||"全部",value:null}}):e._e(),e._l(e.list,(function(l){return t("el-option",{key:l.value,attrs:{label:l[e.labelKey],value:l[e.valueKey]}})}))],2)}),[],!1,null,"e75be341",null,null).exports;export{r as default};
