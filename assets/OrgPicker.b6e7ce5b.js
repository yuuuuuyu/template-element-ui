import{n as e,_ as t,b as i,d as o}from"./index.af0f36c9.js";import{l as s}from"./org.1c8bd0fa.js";import"./ui.1d6f8af4.js";const a=e({model:{prop:"value",event:"change"},props:{value:{type:[Number,String],required:!1},adapter:{type:Function,required:!1,default:e=>e},size:{type:String,required:!1,default:"small"}},components:{OrgTree:()=>t((()=>import("./OrgTree.33a1c3f4.js")),["./OrgTree.33a1c3f4.js","./org.1c8bd0fa.js","./index.af0f36c9.js","./ui.1d6f8af4.js","./index.5a4c7fc5.css"],import.meta.url)},data:()=>({loading:!1,dialogVisible:!1,list:[],checkedNode:[]}),computed:{showTitle(){return this.adapter(this.value)}},methods:{fetchData:function(){this.loading=!0,s().then((e=>{this.loading=!1,e.data&&(this.list=i(e.data))})).catch((()=>{this.loading=!1}))},submit(){this.checkedNode&&this.checkedNode[0]&&this.$emit("change",this.checkedNode[0].id,o(this.checkedNode[0])),this.dialogVisible=!1}},created(){this.fetchData()}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"orgPick-box"},[t("el-input",{attrs:{size:e.size,readonly:"",value:e.showTitle,placeholder:"请选择"},on:{focus:function(t){e.dialogVisible=!0}}}),t("el-dialog",{staticClass:"custom-dialog",attrs:{"append-to-body":"","close-on-click-modal":!1,title:"选择组织",visible:e.dialogVisible,width:"1000px"},on:{"update:visible":function(t){e.dialogVisible=t},open:function(t){e.checkedNode=[]}}},[t("div",{staticClass:"orgPicker"},[e.dialogVisible?t("OrgTree",{attrs:{value:e.list,picker:""},on:{pick:function(t){e.checkedNode=t}}}):e._e()],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.submit}},[e._v("确 定")]),t("el-button",{attrs:{size:"medium"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)])],1)}),[],!1,null,"90e17b0d",null,null).exports;export{a as default};
